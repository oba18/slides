# while文をマスターしよう
m.oba

---

while文も繰り返しの処理のために使う構文の1つです

---

for文と異なるのは繰り返し回数を指定するのではなく,繰り返す条件を指定することです．

---

例えば<br>
「1に3をかけて，その答えにまた3をかける．という処理を繰り返したときに，何回3をかけたら1000を超えますか？」<br>
という問題があったとします．

>>>

1. 1 * 3 = 3<br>
2. 3 * 3 = 9<br>
3. 9 * 3 = 27<br>
4. 27 * 3 = 81<br>
5. 81 * 3 = 243<br>
6. 243 * 3 = 729<br>
7. 729 * 3 = 2187<br>
ということで7回目だとわかります．

>>>

これをプログラムで解きましょう．

>>>

プログラムのアルゴリズム（動作の手順）を考えましょう．<br>
1. 変数pに1を入れる．←3をかけた値を入れる変数<br>
2. 変数nに0を入れる．←3をかけた回数を入れる変数<br>
3. 変数pに3をかけた値を新しくpに入れる．この時nの値を+1する．<br>
4. pが1000を超えるまで3を繰り返す．<br>
5. 最後にnを表示する


---

for文を使うと美しくありません．なぜなら答えが繰り返し回数になるからです．
```
for(int i=1; i<=n; i++){
}
```
一度答えを求めてから，もう一度答えを求めることになります．

---

そのためwhile文を使いましょう．

---

```
while (繰り返したい条件){
  処理;
}
```

>>>

繰り返したい条件の部分に書いたものがTrueの間は繰り返すということになります．
```
while (i<=10){
  printf("%d回目の繰り返し",i);
  i++
}
```
この場合iが10以下の場合繰り返される．

---

先ほどの問題は次のように書けます．

>>>

```
int main(void){
  int p = 1;
  int n = 0;

  while(p<=1000){
    p = p * 3;
    n += 1;
  }
  printf ("%d\n",n);

  return 0;
}
```

---

よくある勘違い<br>
```
int main(void){
  int p = 1;
  int n = 0;

  while(p<=1000){
    p = p * 3; // 7回目のループの時pには2187が入る．
    n += 1; // 実行されない ←間違い
  }
  printf ("%d\n",n);

  return 0;
}
```
実際には一度whileに入ると，その時に条件に達しても，whileの中身は最後まで動きます．つまり，whileを抜けたときに条件が判定されるということですね．


---

練習問題

>>>

次の数字が何桁であるか判定するプログラムを作りなさい．<br>
1<br>
1234<br>
13<br>
245<br>
10000<br>

---

回答例

>>>
```
int main(void){
  int p = 1234;
  int n = 0;

  while(p >= 1){
    p = p / 10;
    n += 1;
  }
  printf ("%d\n", n);

  return 0;
}
```
